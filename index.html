<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <title>Controle de Estoque</title>
    <!-- JQuery CDN -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <!--GRAVATAR-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <script type="importmap">
      {
        "imports": {
          "@material/web/": "https://esm.run/@material/web/"
        }
      }
    </script>
    <script type="module">
        import '@material/web/all.js';
        import { styles as typescaleStyles } from '@material/web/typography/md-typescale-styles.js';
        document.adoptedStyleSheets.push(typescaleStyles.styleSheet);
    </script>
    <!--MDLITE CDN-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <!--dataTables-->
    <link rel="stylesheet" href="js/dataTable/dataTables.material.min.css">
    <script src="js/dataTable/jquery.dataTables.min.js"></script>
    <script src="js/dataTable/dataTables.material.min.js"></script>
    <!--CSS personalizado-->
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@10.2.7/dist/css/autoComplete.min.css">
    <!-- GRAFICOS -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/dataTable/ptbr.js"></script>
    <script src="img/img_base.js"></script>
</head>

<body>
    <!-- Always shows a header, even in smaller screens. -->
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
        <header class="mdl-layout__header">
            <div class="mdl-layout__header-row">
                <!-- Title -->
                <span class="mdl-layout-title">Controle de estoque e vendas</span>
                <!-- Add spacer, to align navigation to the right -->
                <div class="mdl-layout-spacer"></div>
                <!-- Navigation. We hide it in small screens. -->
                <nav class="mdl-navigation">
                    <!-- Deletable Contact Chip -->
                    <span class="mdl-chip mdl-chip--contact mdl-chip--deletable" id="infouser"></span>
                    <span style="position: relative">
                        <!--md-filled-button id="usage-anchor-2">Set with element ref</md-filled-button-->
                        <md-menu id="usage-menu-2">
                            <md-menu-item onclick="abrirModal('#modalZero');">
                                <div slot="headline">
                                    ZERADO (<b id="zero-stock-badge"></b>)
                                </div>
                            </md-menu-item>
                            <md-menu-item onclick="abrirModal('#modalBaixo');">
                                <div slot="headline">
                                    BAIXO (<b id="low-stock-badge"></b>)
                                </div>
                            </md-menu-item>
                            <md-menu-item onclick="iniciarCadasstro();">
                                <div slot="headline">
                                    Novo cadastro
                                </div>
                            </md-menu-item>
                            <md-menu-item onclick="logout();">
                                <div slot="headline">Sair</div>
                            </md-menu-item>
                        </md-menu>
                    </span>
                    <script type="module">
                        // This example uses MdMenu.prototype.anchorElement to set the anchor as an
                        // HTMLElement reference.
                        const anchorEl = document.body.querySelector('#usage-anchor-2');
                        const menuEl = document.body.querySelector('#usage-menu-2');
                        menuEl.anchorElement = anchorEl;

                        anchorEl.addEventListener('click', () => { menuEl.open = !menuEl.open; });
                    </script>
                </nav>
            </div>
            <md-tabs aria-label="Content to view">
                <md-primary-tab id="painel-tab" aria-controls="painel-panel">
                    Painel
                </md-primary-tab>
                <md-primary-tab id="vender-tab" aria-controls="vender-panel">
                    Vender
                </md-primary-tab>
                <md-primary-tab id="cadastro-tab" aria-controls="cadastro-panel">
                    Cadastrar+
                </md-primary-tab>
                <md-primary-tab id="nf-tab" aria-controls="nf-panel">
                    Add Compra+
                </md-primary-tab>
                <md-primary-tab id="addestoque-tab" aria-controls="addestoque-panel">
                    Gerenciar Estoque
                </md-primary-tab>
                <!--md-primary-tab id="vendas-tab" aria-controls="vendas-panel">
                    Relatorios de vendas
                </md-primary-tab-->
            </md-tabs>
        </header>
        <main class="mdl-layout__content">
            <div class="page-content mdl-grid mdl-grid--no-spacing">
                <!--PAINEL-->
                <div id="painel-panel" role="tabpanel" aria-labelledby="painel-tab"
                    class="mdl-cell mdl-cell--12-col mdl-card mdl-shadow--2dp mdl-cell--stretch">
                    <div class="mdl-grid">
                        <div class="mdl-cell mdl-cell--4-col">
                            <div class="mdl-card profit-card">
                                <div class="mdl-card__title">
                                    <span>Lucro em <b id="np_0"></b> dias</span>
                                </div>
                                <div class="mdl-card__supporting-text">
                                    <h2 id="profit-0-days">R$0,00</h2>
                                    <p id="growth-0-days"></p>
                                </div>
                            </div>
                        </div>
                        <div class="mdl-cell mdl-cell--4-col">
                            <div class="mdl-card profit-card">
                                <div class="mdl-card__title">
                                    <span>Lucro em <b id="np_1"></b> Dias</span>
                                </div>
                                <div class="mdl-card__supporting-text">
                                    <h2 id="profit-1-days">R$0,00</h2>
                                    <p id="growth-1-days"></p>
                                </div>
                            </div>
                        </div>
                        <div class="mdl-cell mdl-cell--4-col">
                            <div class="mdl-card profit-card">
                                <div class="mdl-card__title">
                                    <span>Lucro em <b id="np_2"></b> Dias</span>
                                </div>
                                <div class="mdl-card__supporting-text">
                                    <h2 id="profit-2-days">R$0,00</h2>
                                    <p id="growth-2-days"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <md-filled-button onclick="abrirModal('#painelConfig');"><md-icon slot="icon">settings</md-icon>
                        Configurações do painel</md-filled-button>
                    <md-text-button onclick="abrirModal('#vendasgrafico');">Total de vendas <b id="mesesNumero"></b>
                        meses</md-text-button>
                    <div id="bycliente"></div>
                    <div class="mdl-grid">
                        <div class="mdl-cell mdl-cell--10-col" id="top-products-container"></div>
                    </div>
                    <md-dialog id="vendasgrafico">
                        <div slot="headline">
                            Quantidade de vendas
                        </div>
                        <div slot="content" method="dialog">
                            <canvas id="salesGrowthChart" width="100" height="100"></canvas>
                        </div>
                        <div slot="actions">
                            <md-text-button onclick="fecharmodal('#vendasgrafico');">Fechar</md-text-button>
                        </div>
                    </md-dialog>
                    <md-dialog id="painelConfig">
                        <div slot="headline">
                            Configurando o painel
                        </div>
                        <div slot="content" method="dialog">
                            <div id="settings-container">
                                <md-outlined-text-field label="Limite Top 10 Produtos" id="top10Limit" value="10"
                                    min="1">
                                </md-outlined-text-field><br><br>
                                <md-outlined-text-field label="Intervalos de Tempo para Lucro (dias):"
                                    id="profitIntervals" value="1,7,30">
                                </md-outlined-text-field><br><br>
                                <md-outlined-text-field label="Intervalo de Tempo para Crescimento de Vendas (meses):<"
                                    id="salesGrowthInterval" value="3" min="1">
                                </md-outlined-text-field><br>
                            </div>
                        </div>
                        <div slot="actions">
                            <md-filled-button id="save-settings">Salvar Configurações</md-filled-button>
                            <md-text-button onclick="fecharmodal('#painelConfig');">Fechar</md-text-button>
                        </div>
                    </md-dialog>
                </div>
            </div>
            <!-- Cadastro de Produto -->
            <div id="cadastro-panel" role="tabpanel" aria-labelledby="cadastro-tab"
                class="mdl-cell mdl-cell--12-col mdl-card mdl-shadow--2dp mdl-cell--stretch">
                <div class="mdl-card__title">
                    <md-filled-tonal-button onclick="abrirModal('#modalCadastroProduto');">Cadastar<md-icon
                            slot="icon">add</md-icon></md-filled-tonal-button>
                    <md-filled-tonal-button id="update-data-button">Atualizar BASE<md-icon
                            slot="icon">deployed_code_update</md-icon></md-filled-tonal-button>
                </div>
                <md-dialog id="modalCadastroProduto">
                    <div slot="headline">
                        Cadastrando um produto
                    </div>
                    <form slot="content" id="product-form" method="dialog">
                        <div class="mdl-grid">
                            <div class="mdl-cell mdl-cell--6-col">
                                <md-outlined-text-field label="Codigo do produto" id="cod_pd"></md-outlined-text-field>
                            </div>
                            <div class="mdl-cell mdl-cell--6-col">
                                <md-outlined-text-field label="Nome do Produto" id="product-name"
                                    required></md-outlined-text-field>
                            </div>
                            <div class="mdl-cell mdl-cell--6-col">
                                <md-outlined-text-field label="Quantidade" type="number" id="quantity"
                                    required></md-outlined-text-field>
                            </div>
                            <div class="mdl-cell mdl-cell--6-col">
                                <md-outlined-text-field label="Nome do Fornecedor" id="supplier-name"
                                    required></md-outlined-text-field>
                            </div>
                            <div class="mdl-cell mdl-cell--6-col">
                                <md-outlined-text-field label="Marca" id="brand" required></md-outlined-text-field>
                            </div>
                            <div class="mdl-cell mdl-cell--6-col">
                                <md-outlined-text-field label="Valor do Produto" type="number" id="price" required
                                    step="0.01"></md-outlined-text-field>
                                <md-outlined-text-field label="Valor de venda" type="number" id="price-venda" required
                                    step="0.01"></md-outlined-text-field>
                            </div>
                            <input type="file" id="product-image" accept="image/*">
                        </div>
                    </form>
                    <div slot="actions">
                        <md-text-button onclick="addProduct()">Cadastar</md-text-button>
                        <md-text-button onclick="fecharmodal('#modalCadastroProduto');">Fechar</md-text-button>
                    </div>
                </md-dialog>
                <div class="mdl-card__supporting-text">
                    <h1>Visualizar e Editar Produtos</h1>
                    <div id="product-list"></div>
                    <md-dialog id="modalediPd" class="mdl-dialog" style="width: 350px;">
                        <div slot="headline">Editar Produto</div>
                        <div slot="content">
                            <form id="edit-form">
                                <md-filled-text-field type="" id="edit-id" label="ID"
                                    readonly></md-filled-text-field><br><br>
                                <md-filled-text-field id="edit-bars" label="Codigo do produto" type="text" min="0"
                                    readonly></md-filled-text-field><br><br>
                                <md-filled-text-field id="edit-product-name" label="Nome do Produto"
                                    required></md-filled-text-field><br><br>
                                <md-filled-text-field id="edit-quantity" label="Quantidade" type="number" min="0"
                                    required></md-filled-text-field><br><br>
                                <md-filled-text-field id="edit-supplier-name" label="Nome do Fornecedor"
                                    required></md-filled-text-field><br><br>
                                <md-filled-text-field id="edit-brand" label="Marca"
                                    required></md-filled-text-field><br><br>
                                <md-filled-text-field id="edit-price" label="Valor do Produto" type="number" step="0.01"
                                    min="0" required></md-filled-text-field>
                                <md-filled-text-field id="edit-price-venda" label="Valor de venda" type="number"
                                    step="0.01" min="0" required></md-filled-text-field>
                                <input type="file" id="edit-product-image" accept="image/*">
                            </form>
                        </div>
                        <div slot="actions">
                            <md-text-button onclick="updateProduct('#modalediPd');">Salvar</md-text-button>
                            <md-text-button onclick="fecharmodal('#modalediPd');">Fechar</md-text-button>
                        </div>
                    </md-dialog>
                </div>
            </div>

            <!-- Venda de Produtos -->
            <div id="vender-panel" role="tabpanel" aria-labelledby="vender-tab"
                class="mdl-cell mdl-cell--12-col mdl-card mdl-shadow--2dp mdl-cell--stretch">
                <div class="mdl-card__title">
                    <md-filled-tonal-button onclick="abrirModal('#adicionarItem');">Vender<md-icon
                            slot="icon">add_shopping_cart</md-icon></md-filled-tonal-button>
                    <md-filled-tonal-button onclick="manualUpdate();">Atualizar BASE<md-icon
                            slot="icon">deployed_code_update</md-icon></md-filled-tonal-button>
                </div>
                <div class="mdl-card__supporting-text">
                    <md-dialog id="adicionarItem">
                        <div slot="headline">
                            Venda de produtos
                        </div>
                        <form slot="content" id="sale-form" method="dialog">
                            <div class="mdl-grid">
                                <div class="mdl-cell mdl-cell--6-col">
                                    <md-outlined-text-field label="Nome do Cliente" id="customer-name"
                                        required></md-outlined-text-field>
                                </div>
                                <div class="mdl-cell mdl-cell--6-col">
                                    <md-outlined-select label="Produto" id="product-select" onchange="updatePrice()"
                                        required></md-outlined-select>
                                </div>
                                <div class="mdl-cell mdl-cell--6-col">
                                    <md-outlined-text-field label="Quantidade" type="number" id="quantity_dades"
                                        required></md-outlined-text-field>
                                </div>
                                <div class="mdl-cell mdl-cell--6-col">
                                    <md-outlined-text-field label="Preço de Custo Unitário" type="text"
                                        id="product-price" disabled></md-outlined-text-field>
                                </div>
                                <div class="mdl-cell mdl-cell--6-col">
                                    <md-outlined-text-field label="Q. em estoque" type="text" id="estoque-quanty"
                                        disabled></md-outlined-text-field>
                                </div>
                                <div class="mdl-cell mdl-cell--6-col">
                                    <md-outlined-text-field label="Preço de Venda Unitário" type="number" step="0.01"
                                        id="sale-price-venda"></md-outlined-text-field>
                                </div>
                            </div>
                        </form>
                        <div slot="actions">
                            <md-filled-button onclick="addItem()">Adicionar item<md-icon
                                    slot="icon">add</md-icon></md-filled-button>
                            <md-text-button onclick="fecharmodal('#adicionarItem');">Continuar venda</md-text-button>
                        </div>
                    </md-dialog>
                    <div id="table-show-itens-adicionados" style="display: none;">
                        <h2>Itens Vendidos</h2>
                        <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp" id="sales-table">
                            <thead>
                                <tr>
                                    <th class="mdl-data-table__cell--non-numeric">Produto</th>
                                    <th class="mdl-data-table__cell--non-numeric">Quantidade</th>
                                    <th class="mdl-data-table__cell--non-numeric">Preço de Venda Unitário</th>
                                    <th class="mdl-data-table__cell--non-numeric">Total</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                    <div class="suspended-box" style="display: none;" id="cx-suspensa">
                        <h2>Resumo da Venda</h2>
                        <p>Total da Venda: R$<span id="total-sale">0.00</span></p>
                        <div class="mdl-grid">
                            <div class="mdl-cell mdl-cell--6-col">
                                <md-outlined-select label="Forma de Pagamento" id="payment-method"
                                    onchange="updatePaymentOptions()">
                                    <md-select-option value="cash">Dinheiro</md-select-option>
                                    <md-select-option value="pix">PIX</md-select-option>
                                    <md-select-option value="card">Cartão</md-select-option>
                                    <md-select-option value="credit">Crédito à Vista</md-select-option>
                                </md-outlined-select>
                                <div id="credit-options" style="display:none;">
                                    <br><br>
                                    <md-outlined-select label="Número de Parcelas" id="installments"
                                        onchange="calculateInstallments()">
                                        <md-select-option value="1">1x</md-select-option>
                                        <md-select-option value="2">2x</md-select-option>
                                        <md-select-option value="3">3x</md-select-option>
                                        <md-select-option value="4">4x</md-select-option>
                                        <md-select-option value="5">5x</md-select-option>
                                        <md-select-option value="6">6x</md-select-option>
                                        <md-select-option value="7">7x</md-select-option>
                                        <md-select-option value="8">8x</md-select-option>
                                        <md-select-option value="9">9x</md-select-option>
                                    </md-outlined-select>
                                    <p>Valor por Parcela: R$<span id="installment-value">0.00</span></p>
                                </div>
                            </div>
                            <div class="mdl-cell mdl-cell--12-col">
                                <md-outlined-text-field label="Dinheiro Recebido" type="number" id="amount-received"
                                    step="0.01" oninput="calculateChange()"></md-outlined-text-field>
                                <p>Troco: R$<span id="change">0.00</span></p>
                                <md-filled-button type="button" onclick="completeSale()">Finalizar
                                    Venda</md-filled-button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mdl-card__title">
                    <h1 class="mdl-card__title-text">Relatório de Vendas</h1>
                    <md-filled-tonal-button id="refresh-button">Atualizar BASE<md-icon
                            slot="icon">deployed_code_update</md-icon></md-filled-tonal-button>
                </div>
                <div class="mdl-card__supporting-text">
                    <div class="mdl-grid">
                        <div class="mdl-cell mdl-cell--6-col">
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                <select class="mdl-textfield__input" id="time-filter_vendas" onchange="filterSales()">
                                    <option value="all">Mostrar tudo</option>
                                    <option value="7">Últimos 7 dias</option>
                                    <option value="30">Últimos 30 dias</option>
                                    <option value="90">Últimos 90 dias</option>
                                    <option value="120">Últimos 120 dias</option>
                                </select>
                                <label class="_carregaPd35r234532" for="time-filter_vendas">Filtrar por</label>
                            </div>
                        </div>
                    </div>
                    <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp" id="sales-report_vendas">
                        <thead>
                            <tr>
                                <th class="mdl-data-table__cell--non-numeric">ID</th>
                                <th class="mdl-data-table__cell--non-numeric">Cliente</th>
                                <th class="mdl-data-table__cell--non-numeric">Produtos Vendidos</th>
                                <th class="mdl-data-table__cell--non-numeric">Lucro</th>
                                <th class="mdl-data-table__cell--non-numeric">Data</th>
                                <th class="mdl-data-table__cell--non-numeric">Total</th>
                                <th class="mdl-data-table__cell--non-numeric">Recebido</th>
                                <th class="mdl-data-table__cell--non-numeric">Troco</th>
                                <th class="mdl-data-table__cell--non-numeric">F. Pagamento</th>
                                <th class="mdl-data-table__cell--non-numeric">Detalhes</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                    <p>Total Geral: R$ <span id="grand-total_vendas">0.00</span></p>
                    <p>Total Geral de Lucro: R$ <span id="grand-profit_vendas">0.00</span></p>
                </div>
            </div>
            <!-- Gerenciamento de Estoque -->
            <div id="addestoque-panel" role="tabpanel" aria-labelledby="addestoque-tab"
                class="mdl-cell mdl-cell--12-col mdl-card mdl-shadow--2dp mdl-cell--stretch">
                <div class="mdl-card__title">
                    <h1 class="mdl-card__title-text">Gerenciamento de Estoque</h1>
                </div>
                <div class="mdl-card__supporting-text">
                    <div class="mdl-grid">
                        <div class="mdl-cell mdl-cell--5-col">
                            <!--md-outlined-select label="Produto" id="product-select_addEstoque">
                                 As opções devem ser adicionadas aqui --
                            </md-outlined-select-->
                            <!-- Substitua o select por um input -->
                            <input id="product-input_addEstoque" type="text" placeholder="Digite o nome do produto"
                                list="product-list_addEstoque" autocomplete="off">

                            <datalist id="product-list_addEstoque"></datalist>
                        </div>
                        <div class="mdl-cell mdl-cell--2-col">
                            <md-outlined-text-field label="Quantidade a Adicionar" type="number"
                                id="add-quantity_estoque" min="1"></md-outlined-text-field>
                        </div>
                        <div class="mdl-cell mdl-cell--2-col">
                            <md-filled-button onclick="addStock()">Adicionar estoque<md-icon
                                    slot="icon">inventory_2</md-icon></md-filled-button>
                        </div>
                    </div>
                    <h2>Histórico de Estoque <md-filled-button onclick="abrirModal('#estoqueConfig')">Configurar
                            limites de
                            estoque<md-icon slot="icon">settings</md-icon></md-filled-button></h2>
                    <p id="current-limit-value">Nenhum limite definido.</p>
                    <p id="current-interval-value">Nenhum intervalo definido.</p>
                    <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp" id="stock-history">
                        <thead>
                            <tr>
                                <th class="mdl-data-table__cell--non-numeric">Produto</th>
                                <th class="mdl-data-table__cell--non-numeric">Quantidade Adicionada</th>
                                <th class="mdl-data-table__cell--non-numeric">Estoque Anterior</th>
                                <th class="mdl-data-table__cell--non-numeric">Estoque Atual</th>
                                <th class="mdl-data-table__cell--non-numeric">Data</th>
                                <th class="mdl-data-table__cell--non-numeric">Usuário</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
                <md-dialog id="estoqueConfig">
                    <div slot="headline">Configurar limite critico de estoque</div>
                    <div slot="content">
                        <section>
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                <md-outlined-text-field label="Limite de Estoque Baixo" id="low-stock-limit" min="1"
                                    required>
                                </md-outlined-text-field>
                            </div>
                        </section>
                        <section>
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                <md-outlined-text-field label="Intervalo de Atualização (minutos)" id="update-interval"
                                    min="1" required>
                                </md-outlined-text-field>
                            </div>
                        </section>
                    </div>
                    <div slot="actions">
                        <md-filled-button onclick="saveLowStockLimit()">Salvar limite <md-icon
                                slot="icon">production_quantity_limits</md-icon></md-filled-button>
                        <md-filled-button onclick="saveUpdateInterval()">Salvar intervalo <md-icon
                                slot="icon">history</md-icon></md-filled-button>
                        <md-text-button onclick="fecharmodal('#estoqueConfig')">Fechar</md-text-button>
                    </div>
                </md-dialog>
            </div>

            <!-- Relatório de Vendas
            <div id="vendas-panel" role="tabpanel" aria-labelledby="vendas-tab"
                class="mdl-cell mdl-cell--12-col mdl-card mdl-shadow--2dp mdl-cell--stretch">
                <div class="mdl-card__title">
                    <h1 class="mdl-card__title-text">Relatório de Vendas</h1>
                    <md-filled-tonal-button id="refresh-button">Atualizar BASE<md-icon
                            slot="icon">deployed_code_update</md-icon></md-filled-tonal-button>
                </div>
                <div class="mdl-card__supporting-text">
                    <div class="mdl-grid">
                        <div class="mdl-cell mdl-cell--6-col">
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                <select class="mdl-textfield__input" id="time-filter_vendas" onchange="filterSales()">
                                    <option value="all">Mostrar tudo</option>
                                    <option value="7">Últimos 7 dias</option>
                                    <option value="30">Últimos 30 dias</option>
                                    <option value="90">Últimos 90 dias</option>
                                    <option value="120">Últimos 120 dias</option>
                                </select>
                                <label class="_carregaPd35r234532" for="time-filter_vendas">Filtrar por</label>
                            </div>
                        </div>
                    </div>
                    <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp" id="sales-report_vendas">
                        <thead>
                            <tr>
                                <th class="mdl-data-table__cell--non-numeric">ID</th>
                                <th class="mdl-data-table__cell--non-numeric">Cliente</th>
                                <th class="mdl-data-table__cell--non-numeric">Produtos Vendidos</th>
                                <th class="mdl-data-table__cell--non-numeric">Lucro</th>
                                <th class="mdl-data-table__cell--non-numeric">Data</th>
                                <th class="mdl-data-table__cell--non-numeric">Total</th>
                                <th class="mdl-data-table__cell--non-numeric">Recebido</th>
                                <th class="mdl-data-table__cell--non-numeric">Troco</th>
                                <th class="mdl-data-table__cell--non-numeric">F. Pagamento</th>
                                <th class="mdl-data-table__cell--non-numeric">Detalhes</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                    <p>Total Geral: R$ <span id="grand-total_vendas">0.00</span></p>
                    <p>Total Geral de Lucro: R$ <span id="grand-profit_vendas">0.00</span></p>
                </div>
            </div-->
            <!-- Entrada de NF -->
            <div id="nf-panel" role="tabpanel" aria-labelledby="nf-tab" style="width: 100%;"">
                    <div class=" mdl-card__title">
                <h2>Entrada de Nota Fiscal</h2>
            </div>
            <md-filled-button onclick="abrirModal('#entradadenfe')">Começar entrada de NFe <md-icon
                    slot="icon">open_in_new</md-icon></md-filled-button>
            <md-dialog id="entradadenfe">
                <div slot="headline">Entrada de NFe
                </div>
                <form id="entrada-form" slot="content">
                    <div class="mdl-grid">
                        <div class="mdl-cell mdl-cell--6-col">
                            <md-outlined-text-field label="Número da NF" value="" id="nf-number"
                                required></md-outlined-text-field>
                        </div>
                        <div class="mdl-cell mdl-cell--6-col">
                            <md-outlined-text-field label="Razão Social" value="" id="razao-social"
                                required></md-outlined-text-field>
                        </div>
                        <div class="mdl-cell mdl-cell--6-col">
                            <md-outlined-text-field label="Data da Nota" type="date" id="nf-date"
                                required></md-outlined-text-field>
                        </div>
                        <div class="mdl-cell mdl-cell--6-col">
                            <md-outlined-text-field label="Data do Sistema" type="text" value="" id="system-date"
                                readonly></md-outlined-text-field>
                        </div>
                        <div class="mdl-cell mdl-cell--12-col">
                            <md-outlined-select label="Produto" id="_product-select" required>
                                <!-- Options will be loaded here dynamically -->
                            </md-outlined-select>
                            <md-outlined-text-field label="Estoque atual" type="text" value="" id="estoqueatual"
                                readonly></md-outlined-text-field>
                        </div>
                        <div class="mdl-cell mdl-cell--6-col">
                            <md-outlined-text-field label="Quantidade" type="number" value="" id="_product-quantity"
                                required></md-outlined-text-field>
                        </div>
                        <div class="mdl-cell mdl-cell--6-col">
                            <md-outlined-text-field label="Preço Unitário" type="text" value="" id="_product-price"
                                readonly></md-outlined-text-field>
                        </div>
                    </div>
                </form>
                <div slot="actions">
                    <md-filled-button onclick="_addProduct()">Adicionar Produto <md-icon slot="icon">add_box</md-icon></md-filled-button>
                    <md-filled-button id="_total-invoice-modal">00.00 <md-icon slot="icon">attach_money</md-icon></md-filled-button>
                    <md-text-button onclick="fecharmodal('#entradadenfe')">Fechar <md-icon slot="icon">close</md-icon></md-text-button>
                </div>
            </md-dialog>
            <div class="mdl-card__supporting-text" id="_snota" style="display:none;">
                <h2>Produtos Adicionados</h2> <md-filled-button
                    onclick="_saveInvoice()"">Finalizar compra <md-icon slot="
                    icon">check_small</md-icon></md-filled-button>
                <!-- Adicione isso no local apropriado na sua página -->
                <p>Total Geral: R$ <span id="_total-invoice">0.00</span></p>
                <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp" id="_products-table">
                    <thead>
                        <tr>
                            <th class="mdl-data-table__cell--non-numeric">Descrição</th>
                            <th class="mdl-data-table__cell--non-numeric">Quantidade</th>
                            <th class="mdl-data-table__cell--non-numeric">Preço Unitário</th>
                            <th class="mdl-data-table__cell--non-numeric">Total</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
            <!--Vizualizando as compras-->
            <div class="mdl-card__title">
                <h2>Visualização de Notas Fiscais</h2>
            </div>
            <div class="mdl-card__supporting-text">
                <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp" id="_invoices-table">
                    <thead>
                        <tr>
                            <th class="mdl-data-table__cell--non-numeric">Número da NF</th>
                            <th class="mdl-data-table__cell--non-numeric">Lista de Produtos</th>
                            <th class="mdl-data-table__cell--non-numeric">Data da Nota</th>
                            <th class="mdl-data-table__cell--non-numeric">Data do Sistema</th>
                            <th class="mdl-data-table__cell--non-numeric">Total</th>
                            <th class="mdl-data-table__cell--non-numeric">Ação</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
    </div>
    </div>
    </main>
    </div>
    <md-dialog id="modalBaixo">
        <div slot="headline">
            Produtos com Estoque Baixo
        </div>
        <form slot="content" id="product-form" method="dialog">
            <!-- Tabela para produtos com estoque baixo -->
            <div id="low-stock-container">
                <md-list id="low-stock-list">
                </md-list>
            </div>
        </form>
        <div slot="actions">
            <md-text-button onclick="fecharmodal('#modalBaixo');">Fechar</md-text-button>
        </div>
    </md-dialog>
    <md-dialog id="modalZero">
        <div slot="headline">
            Produtos com Estoque Zerado
        </div>
        <form slot="content" id="product-form" method="dialog">
            <!-- Tabela para produtos com estoque zerado -->
            <div id="zero-stock-container">
                <md-list id="zero-stock-list">
                </md-list>
            </div>
        </form>
        <div slot="actions">
            <md-text-button onclick="fecharmodal('#modalZero');">Fechar</md-text-button>
        </div>
    </md-dialog>
    <!--MODAL ALERTAS E MAIS-->
    <md-dialog id="mastermodal" jfab="dimessoes">
        <div slot="headline">CARREGANDO...</div>
        <div slot="content">
            CARREGANDO...
        </div>
        <div slot="actions">
            <md-text-button onclick="fecharmodal('#mastermodal');">Fechar</md-text-button>
        </div>
    </md-dialog>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-storage.js"></script>
    <!--jQuery Ui-->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
        const _user = localStorage.getItem('logado');
    </script>
    <jfab-app id="startJFAB"></jfab-app>
    <script src="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@10.2.7/dist/autoComplete.min.js"></script>
    <!--Inicia o FireStore -->
    <script src="js/iniciarFb.js"></script>
    <!--Auths configs-->
    <script src="js/autenticando/index.js"></script>
    <script src="js/painel/userImg.js"></script>
    <!-- Venda de itens e calculo de troco -->
    <script src="js/vender.js"></script>
    <!--Manipulador TABS, Modais e Tradução Jquery DataTable -->
    <script src="js/tabs/index.js"></script>
    <script src="js/modal/modalGerador.js"></script>
    <!--Cadastro de produtos listagem, edição compras -->
    <script src="js/cadPd.js"></script>
    <script src="js/ediPd.js"></script>
    <script src="js/nfentradas.js"></script>
    <script src="js/verCompras.js"></script>
    <!--Controle de estoque -->
    <script src="js/addEstoque.js"></script>
    <script src="js/estoqueAlertas.js"></script>
    <!-- Relatorios de vendas, painel e configuracao do painel -->
    <script src="js/relatorioVendas.js"></script>
    <script src="js/painel/vendas.js"></script>
    <script src="js/painel/config/painelConfig.js"></script>
</body>

</html>